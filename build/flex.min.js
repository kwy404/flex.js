/*! flex 2023-04-03 */
class Flex{constructor({el:t="html",state:e={}}){this.parse=new parse_,this.el=t,this.state=new Proxy(e,{set:(t,e,n)=>(t[e]=n,this.update_elements(e),!0)}),this.elements=Array.from(document.querySelectorAll(this.el+" *")).filter(t=>t.childNodes.length&&/\S/.test(t.textContent)),this.start_app()}start_app(){this.elements.forEach((e,t)=>{var n;e.nodeType===Node.TEXT_NODE?(n=this.parse.text(e.textContent))&&n.forEach(t=>{t.key&&(e.textContent=this.state[t.key]||"undefined")}):Array.from(e.childNodes).forEach(e=>{var t;e.nodeType===Node.TEXT_NODE&&(t=this.parse.text(e.textContent))&&t.forEach(t=>{t.key&&(e.textContent=this.state[t.key]||"undefined")})})})}update_elements(n){this.elements.forEach(e=>{var t;e.nodeType===Node.TEXT_NODE?(t=this.parse.text(e.textContent))&&t.forEach(t=>{t.key===n&&(e.textContent=e.textContent.replace(t.text,this.state[n]))}):Array.from(e.childNodes).forEach(e=>{var t;e.nodeType===Node.TEXT_NODE&&(t=this.parse.text(e.textContent))&&t.forEach(t=>{t.key===n&&(e.textContent=e.textContent.replace(t.text,this.state[n]))})})})}}function html_parse_(t){return document.querySelectorAll(t)[0].cloneNode(!0)}function parse_(){var s=/\{\{(.+?)\}\}/;return{text:function(t){if(!s.test(t))return null;for(var e,n,r=[];e=t.match(s);)0<(n=e.index)&&r.push(t.slice(0,n)),r.push({text:e[0],key:e[1].trim()}),t=t.slice(n+e[0].length);return t.length&&r.push(t),r}}}