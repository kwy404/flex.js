/*!
 * flex 1.0.0
 * 
 *
 * Author: kaway
 * Licensed under ISC (https://opensource.org/licenses/ISC)
 *
 * Date: 2023-04-05
 */
const ATTR_EACH="*each",FlexInstance=function(){let s;return{create:function(e){{var[{root:t="html",state:r={},methods:o={}}]=[e];class n{constructor(){this.parseText=parseText(),this.root=t,this.state=this.createStateProxy(r),this.prevState={},this.rootements=Array.from(document.querySelectorAll(this.root+" *")).filter(e=>e.childNodes.length&&""!==e.textContent.trim()),this.cloneNode=parseHTML(this.root),this.startApp(),this.setupMethods({methods:o})}createStateProxy(e){const o=e=>{if(Array.isArray(e))return new Proxy(e,{set:(e,t,r)=>(e[t]=r,this.updateElements(),!0),defineProperty:(e,t,r)=>{e=Reflect.defineProperty(e,t,r);return"length"===t&&this.updateElements(),e},deleteProperty:(e,t)=>{e=Reflect.deleteProperty(e,t);return this.updateElements(),e}});if("object"!=typeof e||null===e)return e;var t={};for(const r in e)t[r]=o(e[r]);return new Proxy(t,{set:(e,t,r)=>(e[t]=r,this.updateElements(),!0),deleteProperty:(e,t)=>{e=Reflect.deleteProperty(e,t);return this.updateElements(),e}})};return o(e)}startApp(){this.rootements.forEach((t,e)=>{var r;t.nodeType===Node.TEXT_NODE?(r=this.parseText.text(t.textContent))&&r.forEach(e=>{e.key&&(t.textContent=t.textContent.replace(e.text,this.state[e.key]))}):Array.from(t.childNodes).forEach(t=>{var e;t.nodeType===Node.TEXT_NODE&&(e=this.parseText.text(t.textContent))&&e.forEach(e=>{e.key&&(t.textContent=t.textContent.replace(e.text,this.state[e.key]))})})}),this.rootements.forEach((e,t)=>{this.eachLoop(e,this.state,this.rootements[t])})}updateElements(){if(this.state!==this.prevState){const t=document.querySelectorAll(this.root+" *");var e=this.cloneNode.cloneNode(!0);Array.from(e.querySelectorAll("*")).forEach((e,r)=>{const n=t[r];if(n&&this.eachLoop(e,this.state,n),e.nodeType===Node.TEXT_NODE){r=this.parseText.text(e.textContent);if(r){let t=e.textContent;r.forEach(e=>{e.key&&(t=t.replace(e.text,this.state[e.key]))}),n.textContent=t}}else Array.from(e.childNodes).forEach((e,r)=>{if(e.nodeType===Node.TEXT_NODE){var o=this.parseText.text(e.textContent);if(o){let t=e.textContent;o.forEach(e=>{e.key&&(t=t.replace(e.text,this.state[e.key]))}),n.childNodes[r].textContent=t}}})})}}eachLoop(r,t,e){if(e){var o=r.getAttribute(ATTR_EACH);if(o){const[s,a]=o.split(" in ");o=t[a];if(!Array.isArray(o))return;r.removeAttribute(ATTR_EACH);var n=r.parentElement;const i=r.cloneNode(!0);r.innerHTML="",o.forEach(e=>{var t=i.cloneNode(!0);t.innerHTML=t.innerHTML.replace(new RegExp(`\\[\\s*${s}\\s*\\]`,"g"),e),r.appendChild(t)}),n.replaceChild(r,r),void(r.innerHTML!==e.innerHTML&&(e.innerHTML=r.innerHTML))}else Array.from(r.children).forEach(e=>this.eachLoop(e,t)),JSON.stringify(t)!==JSON.stringify(this.state)&&(this.state=this.createStateProxy(t))}}setupMethods({methods:i={}}){const c=Array.from(document.querySelectorAll(this.root+" *"));var e=Array.from(document.querySelectorAll(this.root+" > *"));const l=this;e.forEach((t,r)=>{var o=t.attributes;for(let e=0;e<o.length;e++){var n=o[e].name,s=n.replace("@","");if(n&&"@"===n[0]){const a=t.getAttribute(n);c[r].addEventListener(s,function(){"function"==typeof i[a]&&i[a].call(l)}),t.removeAttribute(n),t.cloneNode(!0)}}})}}return{getInstance:function(){return s||(flex.console.warn("InstÃ¢ncia do Flex foi criada com sucesso.",{debug:!1}),s=new n),s}}}}}}();let flex={};function parseText(){const n=/\{(.+?)\}/;return{text:function(e){if(!n.test(e))return null;for(var t,r,o=[];t=e.match(n);)0<(r=t.index)&&o.push(e.slice(0,r)),o.push({text:t[0],key:t[1].trim()}),e=e.slice(r+t[0].length);return e.length&&o.push(e),o}}}function parseHTML(e){return document.querySelector(e).cloneNode(!0)}flex.console={warn(e,{silent:t=!1,debug:r=!1}){t&&!r||(console.warn("[Flex warn]: "+e),r&&console.warn(new Error("Warning Stack Trace").stack))}};