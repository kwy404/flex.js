/*!
 * flex 1.0.0
 * 
 *
 * Author: kaway
 * Licensed under ISC (https://opensource.org/licenses/ISC)
 *
 * Date: 2023-04-05
 */
const ATTR_EACH="*each",FlexInstance=function(){let s;return{create:function(e){{var[{root:t="html",state:r={},methods:o={}}]=[e];class n{constructor(){this.parseText=parseText(),this.root=t,this.state=this.createStateProxy(r),this.rootements=Array.from(document.querySelectorAll(this.root+" *")).filter(e=>e.childNodes.length&&""!==e.textContent.trim()),this.cloneNode=parseHTML(this.root),this.startApp(),this.setupMethods({methods:o})}createStateProxy(e){return e=e,Array.isArray(e)?new Proxy(e,{set:(e,t,r)=>(e[t]=r,this.updateElements(),!0),defineProperty:(e,t,r)=>{e=Reflect.defineProperty(e,t,r);return"length"===t&&this.updateElements(),e}}):"object"==typeof e&&null!==e?new Proxy(e,{set:(e,t,r)=>(e[t]=r,this.updateElements(),!0)}):e}startApp(){this.rootements.forEach((t,e)=>{var r;t.nodeType===Node.TEXT_NODE?(r=this.parseText.text(t.textContent))&&r.forEach(e=>{e.key&&(t.textContent=t.textContent.replace(e.text,this.state[e.key]))}):Array.from(t.childNodes).forEach(t=>{var e;t.nodeType===Node.TEXT_NODE&&(e=this.parseText.text(t.textContent))&&e.forEach(e=>{e.key&&(t.textContent=t.textContent.replace(e.text,this.state[e.key]))})})}),this.rootements.forEach(e=>{this.eachLoop(e,this.state)})}updateElements(){const t=document.querySelectorAll(this.root+" *");var e=this.cloneNode.cloneNode(!0);Array.from(e.querySelectorAll("*")).forEach((e,r)=>{const n=t[r];if(e.nodeType===Node.TEXT_NODE){r=this.parseText.text(e.textContent);if(r){let t=e.textContent;r.forEach(e=>{e.key&&(t=t.replace(e.text,this.state[e.key]))}),n.textContent=t}}else Array.from(e.childNodes).forEach((e,r)=>{if(e.nodeType===Node.TEXT_NODE){var o=this.parseText.text(e.textContent);if(o){let t=e.textContent;o.forEach(e=>{e.key&&(t=t.replace(e.text,this.state[e.key]))}),n.childNodes[r].textContent=t}}})})}eachLoop(r,t){var e=r.getAttribute("*each");if(e){const[o,n]=e.split(" in ");e=t[n];Array.isArray(e)&&(r.removeAttribute("*each"),e.forEach(e=>{var t=r.cloneNode(!0);t.innerHTML=t.innerHTML.replace(new RegExp(`\\[\\s*${o}\\s*\\]`,"g"),e),r.insertAdjacentElement("beforebegin",t)}),r.remove())}else Array.from(r.children).forEach(e=>this.eachLoop(e,t))}setupMethods({methods:c={}}){const i=Array.from(document.querySelectorAll(this.root+" *"));var e=Array.from(document.querySelectorAll(this.root+" > *"));const l=this;e.forEach((t,r)=>{var o=t.attributes;for(let e=0;e<o.length;e++){var n=o[e].name,s=n.replace("@","");if(n&&"@"===n[0]){const a=t.getAttribute(n);i[r].addEventListener(s,function(){"function"==typeof c[a]&&c[a].call(l)}),t.removeAttribute(n),t.cloneNode(!0)}}})}}return{getInstance:function(){return s||(flex.console.warn("InstÃ¢ncia do Flex foi criada com sucesso.",{debug:!1}),s=new n),s}}}}}}();let flex={};function parseText(){const n=/\{(.+?)\}/;return{text:function(e){if(!n.test(e))return null;for(var t,r,o=[];t=e.match(n);)0<(r=t.index)&&o.push(e.slice(0,r)),o.push({text:t[0],key:t[1].trim()}),e=e.slice(r+t[0].length);return e.length&&o.push(e),o}}}function parseHTML(e){return document.querySelector(e).cloneNode(!0)}flex.console={warn(e,{silent:t=!1,debug:r=!1}){t&&!r||(console.warn("[Flex warn]: "+e),r&&console.warn(new Error("Warning Stack Trace").stack))}};