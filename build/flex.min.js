/*! flex 2023-04-04 */
const FlexInstance=function(){let a;return{create:function(t){{var[{root:e="html",state:o={},methods:r={}}]=[t];function n(){const n=/\{(.+?)\}/;return{text:function(t){if(!n.test(t))return null;for(var e,o,r=[];e=t.match(n);)0<(o=e.index)&&r.push(t.slice(0,o)),r.push({text:e[0],key:e[1].trim()}),t=t.slice(o+e[0].length);return t.length&&r.push(t),r}}}function s(t){return document.querySelector(t).cloneNode(!0)}class c{constructor(){this.parseText=n(),this.root=e,this.state=this.createStateProxy(o),this.rootements=Array.from(document.querySelectorAll(this.root+" *")).filter(t=>t.childNodes.length&&""!==t.textContent.trim()),this.cloneNode=s(this.root),this.startApp(),this.setupMethods({methods:r})}createStateProxy(t){return new Proxy(t,{set:(t,e,o)=>(t[e]=o,this.updateElements(e),!0)})}startApp(){this.rootements.forEach((e,t)=>{var o;e.nodeType===Node.TEXT_NODE?(o=this.parseText.text(e.textContent))&&o.forEach(t=>{t.key&&(e.textContent=e.textContent.replace(t.text,this.state[t.key]))}):Array.from(e.childNodes).forEach(e=>{var t;e.nodeType===Node.TEXT_NODE&&(t=this.parseText.text(e.textContent))&&t.forEach(t=>{t.key&&(e.textContent=e.textContent.replace(t.text,this.state[t.key]))})})})}updateElements(t){const e=document.querySelectorAll(this.root+" *");var o=this.cloneNode.cloneNode(!0);Array.from(o.querySelectorAll("*")).forEach((t,o)=>{const n=e[o];if(t.nodeType===Node.TEXT_NODE){o=this.parseText.text(t.textContent);if(o){let e=t.textContent;o.forEach(t=>{t.key&&(e=e.replace(t.text,this.state[t.key]))}),n.textContent=e}}else Array.from(t.childNodes).forEach((t,o)=>{if(t.nodeType===Node.TEXT_NODE){var r=this.parseText.text(t.textContent);if(r){let e=t.textContent;r.forEach(t=>{t.key&&(e=e.replace(t.text,this.state[t.key]))}),n.childNodes[o].textContent=e}}})})}setupMethods({methods:a={}}){const i=Array.from(document.querySelectorAll(this.root+" *"));var t=Array.from(document.querySelectorAll(this.root+" > *"));const h=this;t.forEach((e,o)=>{var r=e.attributes;for(let t=0;t<r.length;t++){var n=r[t].name,s=n.replace("@","");if(n&&"@"===n[0]){const c=e.getAttribute(n);i[o].addEventListener(s,function(){"function"==typeof a[c]&&a[c].call(h)}),e.removeAttribute(n),e.cloneNode(!0)}}})}}return{getInstance:function(){return a=a||new c}}}}}}();